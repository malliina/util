Online guides (Ubuntu Server Guide, etc) suck, so here it is:

Disable apparmor and reboot

Create pass:
slappasswd -H {SSHA}

Create test.ldif:

dn: olcDatabase=hdb,cn=config
objectClass: olcDatabaseConfig
objectClass: olcHdbConfig
olcDatabase: hdb
olcDbDirectory: /opt/ldap/test
olcSuffix: dc=mle,dc=com
olcAccess: {0}to attrs=userPassword,shadowLastChange by self write by anonymous auth by dn="cn=admin,dc=mle,dc=com" write by * none
olcAccess: {1}to dn.base="" by * read
olcAccess: {2}to * by self write by dn="cn=admin,dc=mle,dc=com" write by * read
olcLastMod: TRUE
olcRootDN: cn=admin,dc=mle,dc=com
olcRootPW: {SSHA}K6iotdVrpf3/gCzam4j0sahFgGENPHEj
olcDbCheckpoint: 512 30
olcDbConfig: {0}set_cachesize 0 2097152 0
olcDbConfig: {1}set_lk_max_objects 1500
olcDbConfig: {2}set_lk_max_locks 1500
olcDbConfig: {3}set_lk_max_lockers 1500
olcDbIndex: objectClass eq

Add test.ldif with:
ldapadd -Y EXTERNAL -H ldapi:/// -f test.ldif

Create add_content.ldif:

dn: dc=mle,dc=com
objectClass: top
objectClass: dcObject
objectclass: organization
o: Example Organization
dc: mle
description: LDAP Example

dn: cn=admin,dc=mle,dc=com
objectClass: simpleSecurityObject
objectClass: organizationalRole
cn: admin
description: LDAP administrator
userPassword: admin

dn: ou=People,dc=mle,dc=com
objectClass: organizationalUnit
ou: People

dn: ou=Groups,dc=mle,dc=com
objectClass: organizationalUnit
ou: Groups

dn: cn=admins,ou=Groups,dc=mle,dc=com
objectClass: posixGroup
cn: admins
gidNumber: 5000

dn: uid=john,ou=People,dc=mle,dc=com
objectClass: inetOrgPerson
objectClass: posixAccount
objectClass: shadowAccount
uid: john
sn: Doe
givenName: John
cn: John Doe
displayName: John Doe
uidNumber: 10000
gidNumber: 5000
userPassword: john
gecos: John Doe
loginShell: /bin/bash
homeDirectory: /home/john

Add add_content.ldif with:
ldapadd -x -D cn=admin,dc=mle,dc=com -W -f add_content.ldif

TLS:

openssl genrsa 2048 > ca-key.pem
openssl req -new -x509 -nodes -days 3600 -key ca-key.pem -out ca-cert.pem

openssl req -newkey rsa:2048 -days 3600 -nodes -keyout server-key.pem -out server-req.pem
openssl rsa -in server-key.pem -out server-key.pem
openssl x509 -req -in server-req.pem -days 3600 -CA ca-cert.pem -CAkey ca-key.pem -set_serial 01 -out server-cert.pem

https://help.ubuntu.com/12.04/serverguide/openldap-server.html#openldap-tls
